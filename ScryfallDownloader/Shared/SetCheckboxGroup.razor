@if (!string.IsNullOrWhiteSpace(App.SetFilter) && Sets.Count(s => s.Code.Contains(App.SetFilter.ToLower()) && s.SetType == Type) == 0) return;

<lead>@Title</lead>
<ul class="list-group">
    @foreach (var set in Sets)
    {
        if (!string.IsNullOrEmpty(App.SetFilter) && !set.Code.Contains(App.SetFilter.ToLower())) continue;

        if (set.SetType == Type)
        {
            <li class="list-group-item">
                <input class="form-check-input me-1" type="checkbox" id="@set.Code-check" @oninput="@(async (e) => await OnCheckboxChanged.InvokeAsync(set.Code))" checked="@App.DownloadSettings.Sets.Contains(set.Code)">
                <label class="form-check-label @(App.ForgeData.ImageSets.ContainsKey(set.Code.ToLower()) ? "existing-set" : "")" for="@set.Code-check"><span class="code">@set.Code.ToUpper()</span> - @set.Name <small>@(!string.IsNullOrWhiteSpace(set.MtgoCode) && set.MtgoCode != set.Code ? $"({set.MtgoCode})" : "")</small></label>
            </li>
        }
    }
</ul>
<br />

@code {
    [CascadingParameter]
    public AppState App { get; set; }

    [Parameter]
    public List<Set> Sets { get; set; }

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public string Type { get; set; }

    [Parameter]
    public EventCallback<string> OnCheckboxChanged { get; set; }
}
